{
  "meta": {
    "project": "Agrirental",
    "date": "2026-02-14",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Agrirental is an India-focused marketplace that enables farmers to rent agricultural equipment and hire skilled labor while enabling providers to list assets and manage bookings. The platform includes multi-method authentication (email, Google, Indian phone OTP), real-time messaging/notifications, role-based dashboards, and admin analytics.",
  "core_goals": [
    "Enable frictionless equipment rentals across India with location-aware search and real-time availability",
    "Allow hiring of verified agricultural labor with profile details, availability and hourly pricing",
    "Provide secure, multi-method authentication including Indian phone OTP for verified accounts",
    "Support role-based experiences (renter, provider, labourer, admin) with tailored dashboards and quick actions",
    "Facilitate trust via reviews/ratings, in-app messaging, and notification systems",
    "Offer comprehensive booking management with status tracking, provider actions, and receipts",
    "Keep the product mobile-first, performant on 4G, and privacy-focused in analytics"
  ],
  "features": [
    {
      "name": "User Authentication",
      "description": "Multi-method authentication including email/password, Google OAuth, and phone OTP verification (limited to Indian numbers) with form validation and clear error messages.",
      "user_flows": [
        "Navigate to /login -> Enter email and password credentials -> Click Sign In button -> See welcome message and redirect to role-based dashboard",
        "Navigate to /login -> Click Sign in with Google button -> Complete OAuth flow -> See welcome message and redirect to role-based dashboard",
        "Navigate to /login -> Click Phone Sign Up / Sign In link -> Navigate to /phone-setup -> Enter Indian phone number with country code (+91) -> Click Send OTP -> Enter OTP code -> Verify OTP code sent via SMS -> See welcome message and redirect to role-based dashboard",
        "Navigate to /login -> Enter email and password credentials -> Click Sign In button -> See error message for invalid credentials",
        "Navigate to /phone-setup -> Enter non-Indian phone number -> Click Send OTP -> See validation error indicating phone OTP limited to Indian numbers",
        "Navigate to /phone-setup -> Enter Indian phone number -> Click Send OTP -> Enter wrong OTP -> Click Verify -> See error message for invalid verification code"
      ]
    },
    {
      "name": "Equipment Rental Marketplace",
      "description": "Browse, search and filter agricultural equipment by type and location, view detailed specs and photos, select rental dates and complete a booking (view only without auth; booking requires login).",
      "user_flows": [
        "Navigate to /equipment -> Browse equipment cards with images, prices, ratings, and availability -> Use search input to find a tractor -> Apply filters by equipment category and availability duration -> Click equipment card to view detailed specifications on /equipment/item/[id] -> View equipment photos gallery and provider info -> Select rental dates (start date, end date) -> Click Book Now -> If not authenticated, redirect to /login",
        "Navigate to /equipment -> Filter by state via /equipment/[state] -> Filter by city via /equipment/[state]/[city] -> Click equipment card on /equipment/item/[id] -> Click Book Now -> Authenticate on /login -> Return to /equipment/item/[id]/book -> Confirm booking details and proceed to checkout -> See booking confirmation with dates, total price, and provider contact",
        "Navigate to /equipment -> Click equipment card on /equipment/item/[id] -> Select rental dates that conflict with provider availability -> Click Book Now -> See error message indicating unavailable dates and suggested available ranges",
        "Navigate to /equipment -> Use search input with unsupported query -> See no-results state with suggestions"
      ]
    },
    {
      "name": "Labour Hiring Platform",
      "description": "Search and hire skilled agricultural workers by skill, location and hourly rate; view labour profiles with certifications and past reviews; create labour bookings (view only without auth; booking requires login).",
      "user_flows": [
        "Navigate to /labour -> Browse labour profiles with skills, experience, hourly rates, and availability -> Use search input to find a harvester operator -> Apply filters by location and hourly rate -> Click labourer profile to view details on profile view -> Select required dates and hours -> Click Hire Now -> If not authenticated, redirect to /login",
        "Navigate to /labour/[state] -> Choose labourer from /labour/[state]/[city] listing -> Click labourer profile -> Fill booking form describing work requirements -> Click Confirm -> See booking confirmation and labourer contact details",
        "Navigate to /labour -> Click labourer profile -> Enter required hours exceeding labourer availability -> Click Hire Now -> See validation error indicating insufficient availability",
        "Navigate to /labour -> Use skill filter with no matching results -> See no-results messaging and alternative suggestions"
      ]
    },
    {
      "name": "Role-Based Dashboards",
      "description": "Redirect users after login to customized dashboards (renter, provider, admin) that surface relevant metrics, quick actions and activity feeds.",
      "user_flows": [
        "Navigate to /login -> Authenticate as a renter -> See redirect to /renter/dashboard -> View active bookings, upcoming bookings and favorites -> Click a quick action card to navigate to /equipment or /renter/bookings",
        "Navigate to /login -> Authenticate as a provider -> See redirect to /provider/dashboard -> View incoming booking requests and earnings summary -> Click quick action to navigate to /provider/equipment",
        "Navigate to /login -> Authenticate as admin -> See redirect to /admin -> View platform-wide analytics on /admin/analytics",
        "Attempt to navigate to /provider/dashboard while unauthenticated -> See redirect to /login or /error/401",
        "Authenticate as renter then attempt to access /admin -> See /error/403 forbidden page"
      ]
    },
    {
      "name": "In-App Messaging",
      "description": "Real-time direct messaging between renters and providers with conversation list, individual threads, read receipts and attachments.",
      "user_flows": [
        "Authenticate and navigate to /messages -> View message inbox with conversation list showing last message and timestamp -> Click conversation to open chat thread on /messages/[id] -> Type and send message -> See message appear in thread and get read receipt when delivered",
        "Receive real-time message notification -> Click notification -> Navigate to /messages/[id] -> See new message highlighted in conversation",
        "Navigate to /messages/[id] -> Attempt to send unsupported attachment type -> See client-side error preventing upload and message send",
        "Navigate to /messages while unauthenticated -> See redirect to /login"
      ]
    },
    {
      "name": "Reviews and Ratings",
      "description": "Allow users to view and submit ratings and written reviews for equipment, labourers and users; support filtering and editing/deleting own reviews.",
      "user_flows": [
        "Navigate to /equipment/item/[id] -> View average rating and individual reviews on listing -> After completed booking, navigate to /renter/reviews -> Select star rating and write review text -> Click Submit -> See review posted and aggregated rating updated",
        "Navigate to a labourer profile -> Filter reviews by rating (4-5 stars) -> Read review text with dates and reviewer profiles",
        "Navigate to /renter/reviews -> Attempt to submit a review before booking completion -> See error preventing unverified review submission",
        "Navigate to /renter/reviews -> Submit review with empty text when text required -> See validation error and prompt to provide review text"
      ]
    },
    {
      "name": "Booking Management",
      "description": "Manage equipment and labour bookings with full lifecycle: create, accept/reject (provider), cancel, request modifications, status updates, receipts and completion marking.",
      "user_flows": [
        "Authenticate as renter -> Navigate to /renter/bookings -> Click a booking to open /renter/bookings/[id] -> View booking details with dates, pricing and provider contact -> Download booking receipt/invoice",
        "Authenticate as provider -> Navigate to /provider/bookings -> View incoming equipment booking request -> Click Accept -> Update booking status via API -> Renter sees status update in /renter/bookings",
        "Authenticate as renter -> Navigate to /renter/bookings/[id] -> Click Cancel booking -> Select cancellation reason -> Confirm cancellation -> See booking status change to cancelled and notification sent",
        "Attempt to create booking at /equipment/item/[id]/book with payment/checkout failure -> See error message indicating payment failure and prompt to retry or contact support",
        "Navigate to /provider/bookings -> Try to accept a booking that was already accepted by another provider -> See conflict error and booking remains pending or cancelled"
      ]
    },
    {
      "name": "User Onboarding",
      "description": "Guided onboarding to set profile, choose roles (renter, provider, labourer), upload documents, perform phone verification and configure preferences before redirecting to appropriate dashboard.",
      "user_flows": [
        "Authenticate and navigate to /onboarding -> Complete initial profile fields -> Select user role as Equipment Provider -> Click Continue -> Navigate to /onboarding/provider -> Add business details and upload verification documents -> Complete onboarding -> Redirect to /provider/dashboard",
        "Authenticate and navigate to /onboarding -> Select Labour provider role -> Navigate to /onboarding/labour -> Add skills, certifications and hourly rates -> Upload profile photo -> Complete phone verification on /phone-setup -> See success and redirect to /provider/dashboard",
        "Authenticate and visit /onboarding -> Skip role selection when role already set -> See message and redirect to appropriate dashboard",
        "During /onboarding/provider upload, provide unsupported file type -> See validation error and prompt to upload allowed document types"
      ]
    },
    {
      "name": "Real-Time Notifications",
      "description": "Deliver instant notifications for bookings, messages and system alerts with an unread badge and configurable preferences.",
      "user_flows": [
        "Authenticate and see notification badge on header -> Click header badge -> Navigate to /notifications -> View categorized notifications (bookings, messages, system) -> Click a booking notification -> Navigate to /renter/bookings/[id]",
        "Authenticate and navigate to /notifications/preferences -> Toggle email and SMS notification preferences -> Click Save -> See confirmation and updated preference state",
        "Receive booking cancellation notification -> Click notification -> Navigate to /renter/bookings/[id] -> See booking status updated to cancelled",
        "Attempt to view /notifications while unauthenticated -> Redirect to /login"
      ]
    },
    {
      "name": "Provider Management",
      "description": "Allow equipment and labour providers to manage listings, view earnings, respond to bookings and track performance from provider-focused pages.",
      "user_flows": [
        "Authenticate as provider -> Navigate to /provider/equipment -> Click Add New Equipment -> Fill photos, specifications and pricing -> Click Publish -> See new listing appear in provider equipment list",
        "Authenticate as provider -> Navigate to /provider/equipment -> Click an item -> Navigate to /provider/equipment/[id] -> Edit equipment details -> Click Save -> See updated listing reflected in marketplace",
        "Authenticate as provider -> Navigate to /provider/labour/create -> Fill labour offering details and availability -> Click Create -> See labour offering listed under provider labour",
        "Authenticate as provider -> Navigate to /provider/earnings -> View earnings and payments breakdown -> Click a transaction for details -> If earnings data fails to load, see error message and retry option",
        "Attempt to access /provider/equipment while authenticated as renter -> See /error/403 forbidden page"
      ]
    }
  ],
  "code_summary": {
    "version": "2",
    "type": "frontend",
    "tech_stack": [
      {
        "language": "TypeScript 5.x"
      },
      {
        "framework": "Next.js 16.1.3 (App Router)"
      },
      {
        "ui_library": "Radix UI, Tailwind CSS 4, Framer Motion, Lucide React"
      },
      {
        "other": "React 19.2, Supabase (Auth & Database), Zustand State Management, React Hook Form, Zod Form Validation"
      }
    ],
    "routes": [
      {
        "path": "/",
        "file": "src/app/page.tsx",
        "auth_required": false,
        "description": "Landing page with hero section and featured equipment"
      },
      {
        "path": "/login",
        "file": "src/app/login/page.tsx",
        "auth_required": false,
        "description": "User login page with multiple auth options (email/password, Google OAuth)"
      },
      {
        "path": "/forgot-password",
        "file": "src/app/forgot-password/page.tsx",
        "auth_required": false,
        "description": "Request password reset link"
      },
      {
        "path": "/auth/reset-password",
        "file": "src/app/auth/reset-password/page.tsx",
        "auth_required": false,
        "description": "Reset password with token"
      },
      {
        "path": "/phone-setup",
        "file": "src/app/phone-setup/page.tsx",
        "auth_required": true,
        "description": "Phone verification setup for OTP-based authentication"
      },
      {
        "path": "/onboarding",
        "file": "src/app/onboarding/page.tsx",
        "auth_required": true,
        "description": "User role onboarding (renter, provider, labourer)"
      },
      {
        "path": "/onboarding/provider",
        "file": "src/app/onboarding/provider/page.tsx",
        "auth_required": true,
        "description": "Equipment provider onboarding flow"
      },
      {
        "path": "/onboarding/labour",
        "file": "src/app/onboarding/labour/page.tsx",
        "auth_required": true,
        "description": "Labour provider onboarding flow"
      },
      {
        "path": "/equipment",
        "file": "src/app/equipment/page.tsx",
        "auth_required": false,
        "description": "Browse all equipment listings with filters"
      },
      {
        "path": "/equipment/[state]",
        "file": "src/app/equipment/[state]/page.tsx",
        "auth_required": false,
        "description": "Browse equipment by state"
      },
      {
        "path": "/equipment/[state]/[city]",
        "file": "src/app/equipment/[state]/[city]/page.tsx",
        "auth_required": false,
        "description": "Browse equipment by city"
      },
      {
        "path": "/equipment/item/[id]",
        "file": "src/app/equipment/item/[id]/page.tsx",
        "auth_required": false,
        "description": "Detailed equipment view with specifications"
      },
      {
        "path": "/equipment/item/[id]/book",
        "file": "src/app/equipment/item/[id]/book/page.tsx",
        "auth_required": true,
        "description": "Book equipment for rental"
      },
      {
        "path": "/labour",
        "file": "src/app/labour/page.tsx",
        "auth_required": false,
        "description": "Browse labour listings with filters"
      },
      {
        "path": "/labour/[state]",
        "file": "src/app/labour/[state]/page.tsx",
        "auth_required": false,
        "description": "Browse labour by state"
      },
      {
        "path": "/labour/[state]/[city]",
        "file": "src/app/labour/[state]/[city]/page.tsx",
        "auth_required": false,
        "description": "Browse labour by city"
      },
      {
        "path": "/renter/dashboard",
        "file": "src/app/renter/dashboard/page.tsx",
        "auth_required": true,
        "description": "Main renter dashboard overview"
      },
      {
        "path": "/renter/bookings",
        "file": "src/app/renter/bookings/page.tsx",
        "auth_required": true,
        "description": "View all renter bookings"
      },
      {
        "path": "/renter/bookings/[id]",
        "file": "src/app/renter/bookings/[id]/page.tsx",
        "auth_required": true,
        "description": "View booking details"
      },
      {
        "path": "/renter/labour",
        "file": "src/app/renter/labour/page.tsx",
        "auth_required": true,
        "description": "Renters labour bookings"
      },
      {
        "path": "/renter/labour/bookings",
        "file": "src/app/renter/labour/bookings/page.tsx",
        "auth_required": true,
        "description": "All labour bookings as renter"
      },
      {
        "path": "/renter/labour/[id]/book",
        "file": "src/app/renter/labour/[id]/book/page.tsx",
        "auth_required": true,
        "description": "Book labour provider"
      },
      {
        "path": "/renter/favorites",
        "file": "src/app/renter/favorites/page.tsx",
        "auth_required": true,
        "description": "View favorited equipment and labour"
      },
      {
        "path": "/renter/messages",
        "file": "src/app/renter/messages/page.tsx",
        "auth_required": true,
        "description": "Renter messaging inbox"
      },
      {
        "path": "/renter/reviews",
        "file": "src/app/renter/reviews/page.tsx",
        "auth_required": true,
        "description": "Manage reviews posted as renter"
      },
      {
        "path": "/provider/dashboard",
        "file": "src/app/provider/dashboard/page.tsx",
        "auth_required": true,
        "description": "Main provider dashboard with analytics"
      },
      {
        "path": "/provider/bookings",
        "file": "src/app/provider/bookings/page.tsx",
        "auth_required": true,
        "description": "View incoming equipment bookings"
      },
      {
        "path": "/provider/equipment",
        "file": "src/app/provider/equipment/page.tsx",
        "auth_required": true,
        "description": "Manage owned equipment listings"
      },
      {
        "path": "/provider/equipment/[id]",
        "file": "src/app/provider/equipment/[id]/page.tsx",
        "auth_required": true,
        "description": "Edit equipment details"
      },
      {
        "path": "/provider/labour",
        "file": "src/app/provider/labour/page.tsx",
        "auth_required": true,
        "description": "Labour offerings overview"
      },
      {
        "path": "/provider/labour/create",
        "file": "src/app/provider/labour/create/page.tsx",
        "auth_required": true,
        "description": "Create new labour offering"
      },
      {
        "path": "/provider/labour/edit",
        "file": "src/app/provider/labour/edit/page.tsx",
        "auth_required": true,
        "description": "Edit labour offerings"
      },
      {
        "path": "/provider/earnings",
        "file": "src/app/provider/earnings/page.tsx",
        "auth_required": true,
        "description": "View earnings and payments"
      },
      {
        "path": "/provider/messages",
        "file": "src/app/provider/messages/page.tsx",
        "auth_required": true,
        "description": "Provider messaging inbox"
      },
      {
        "path": "/provider/reviews",
        "file": "src/app/provider/reviews/page.tsx",
        "auth_required": true,
        "description": "View received reviews"
      },
      {
        "path": "/admin",
        "file": "src/app/admin/page.tsx",
        "auth_required": true,
        "description": "Admin panel home with overview"
      },
      {
        "path": "/admin/analytics",
        "file": "src/app/admin/analytics/page.tsx",
        "auth_required": true,
        "description": "Platform-wide analytics dashboard"
      },
      {
        "path": "/admin/users",
        "file": "src/app/admin/users/page.tsx",
        "auth_required": true,
        "description": "Manage platform users"
      },
      {
        "path": "/admin/users/[id]",
        "file": "src/app/admin/users/[id]/page.tsx",
        "auth_required": true,
        "description": "View and manage specific user"
      },
      {
        "path": "/admin/bookings",
        "file": "src/app/admin/bookings/page.tsx",
        "auth_required": true,
        "description": "View all platform bookings"
      },
      {
        "path": "/admin/equipment",
        "file": "src/app/admin/equipment/page.tsx",
        "auth_required": true,
        "description": "Manage platform equipment listings"
      },
      {
        "path": "/admin/labour",
        "file": "src/app/admin/labour/page.tsx",
        "auth_required": true,
        "description": "Manage labour listings"
      },
      {
        "path": "/admin/payments",
        "file": "src/app/admin/payments/page.tsx",
        "auth_required": true,
        "description": "Payment management and disputes"
      },
      {
        "path": "/admin/settings",
        "file": "src/app/admin/settings/page.tsx",
        "auth_required": true,
        "description": "Platform settings configuration"
      },
      {
        "path": "/messages",
        "file": "src/app/messages/page.tsx",
        "auth_required": true,
        "description": "Global messaging inbox"
      },
      {
        "path": "/messages/[id]",
        "file": "src/app/messages/[id]/page.tsx",
        "auth_required": true,
        "description": "Conversation view"
      },
      {
        "path": "/notifications",
        "file": "src/app/notifications/page.tsx",
        "auth_required": true,
        "description": "View user notifications"
      },
      {
        "path": "/notifications/preferences",
        "file": "src/app/notifications/preferences/page.tsx",
        "auth_required": true,
        "description": "Manage notification settings"
      },
      {
        "path": "/profile",
        "file": "src/app/profile/page.tsx",
        "auth_required": true,
        "description": "Edit user profile"
      },
      {
        "path": "/settings",
        "file": "src/app/settings/page.tsx",
        "auth_required": true,
        "description": "Account settings"
      },
      {
        "path": "/settings/notifications",
        "file": "src/app/settings/notifications/page.tsx",
        "auth_required": true,
        "description": "Notification preferences"
      },
      {
        "path": "/settings/roles",
        "file": "src/app/settings/roles/page.tsx",
        "auth_required": true,
        "description": "Manage account roles"
      },
      {
        "path": "/about",
        "file": "src/app/about/page.tsx",
        "auth_required": false,
        "description": "About AgriServe page"
      },
      {
        "path": "/contact",
        "file": "src/app/contact/page.tsx",
        "auth_required": false,
        "description": "Contact support page"
      },
      {
        "path": "/help",
        "file": "src/app/help/page.tsx",
        "auth_required": false,
        "description": "Help and documentation"
      },
      {
        "path": "/gallery",
        "file": "src/app/gallery/page.tsx",
        "auth_required": false,
        "description": "Equipment photo gallery"
      },
      {
        "path": "/terms",
        "file": "src/app/terms/page.tsx",
        "auth_required": false,
        "description": "Terms of service page"
      },
      {
        "path": "/privacy",
        "file": "src/app/privacy/page.tsx",
        "auth_required": false,
        "description": "Privacy policy page"
      },
      {
        "path": "/offline",
        "file": "src/app/offline/page.tsx",
        "auth_required": false,
        "description": "Offline page (PWA fall back)"
      },
      {
        "path": "/error/401",
        "file": "src/app/error/401/page.tsx",
        "auth_required": false,
        "description": "Unauthorized error page"
      },
      {
        "path": "/error/403",
        "file": "src/app/error/403/page.tsx",
        "auth_required": false,
        "description": "Forbidden error page"
      },
      {
        "path": "/error/500",
        "file": "src/app/error/500/page.tsx",
        "auth_required": false,
        "description": "Server error page"
      },
      {
        "path": "/user/[id]",
        "file": "src/app/user/[id]/page.tsx",
        "auth_required": false,
        "description": "Public user profile page"
      }
    ],
    "features": [
      {
        "name": "User Authentication",
        "description": "Multi-method authentication including email/password, Google OAuth, and phone OTP verification for Indian numbers",
        "files": [
          "src/app/login/page.tsx",
          "src/lib/services/auth-service.ts",
          "src/lib/store/auth-store.ts",
          "src/lib/supabase/client.ts"
        ],
        "entry_route": "/login",
        "user_interactions": [
          "Enter email and password credentials",
          "Click Sign in with Google button",
          "Click Phone Sign Up / Sign In link",
          "Enter Indian phone number with country code",
          "Verify OTP code sent via SMS",
          "See welcome message and redirect to appropriate dashboard on successful auth",
          "See error messages for invalid credentials or verification codes"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "/auth/v1/token?grant_type=password"
          },
          {
            "method": "POST",
            "endpoint": "/auth/v1/otp (phone verification)"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Equipment Rental Marketplace",
        "description": "Browse, search, and rent agricultural equipment (tractors, harvesters, tillers, trucks, trailers) with real-time availability, location filters, and instant booking",
        "files": [
          "src/app/equipment/page.tsx",
          "src/app/equipment/[state]/page.tsx",
          "src/app/equipment/[state]/[city]/page.tsx",
          "src/app/equipment/item/[id]/page.tsx",
          "src/app/equipment/item/[id]/book/page.tsx",
          "src/lib/services/equipment-service.ts",
          "src/lib/hooks/use-equipment-queries.ts"
        ],
        "entry_route": "/equipment",
        "user_interactions": [
          "Browse equipment cards with images, prices, ratings, and availability",
          "Use search input to find specific equipment types",
          "Apply filters by equipment category, price range, rating, availability duration",
          "Filter by location (state and city) using geospatial search",
          "Click on equipment card to view detailed specifications",
          "View equipment photos gallery, provider info, rental terms, and pricing tiers",
          "Select rental dates (start date, end date) on equipment detail page",
          "Click Book Now or Request Booking button",
          "Confirm booking details and proceed to checkout",
          "See booking confirmation with dates, total price, and provider contact"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "/api/equipment (listings with filters)"
          },
          {
            "method": "GET",
            "endpoint": "/api/equipment/[id] (equipment details)"
          },
          {
            "method": "POST",
            "endpoint": "/api/bookings/create (create booking)"
          }
        ],
        "auth_required": "false (viewing), true (booking)"
      },
      {
        "name": "Labour Hiring Platform",
        "description": "Find and hire skilled agricultural workers including machine operators, field workers, and service providers with verified profiles and ratings",
        "files": [
          "src/app/labour/page.tsx",
          "src/app/labour/[state]/page.tsx",
          "src/app/labour/[state]/[city]/page.tsx",
          "src/app/renter/labour/[id]/book/page.tsx",
          "src/lib/services/labour-service.ts",
          "src/lib/hooks/use-labour-queries.ts"
        ],
        "entry_route": "/labour",
        "user_interactions": [
          "Browse labour profiles with skills, experience, hourly rates, and availability",
          "Search by skill type (tractor driver, harvester operator, field assistant, etc.)",
          "Filter by location, skill category, hourly rate range",
          "Click labourer profile to view detailed bio, skills, certifications, and past reviews",
          "Click Hire Now or Request Booking for labourer",
          "Select required dates and hours",
          "Describe work requirements in booking form",
          "Confirm booking and receive confirmation"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "/api/labour (listings with filters)"
          },
          {
            "method": "GET",
            "endpoint": "/api/labour/profile (labourer details)"
          },
          {
            "method": "POST",
            "endpoint": "/api/labour/book (create labour booking)"
          }
        ],
        "auth_required": "false (viewing), true (booking)"
      },
      {
        "name": "Role-Based Dashboards",
        "description": "Customized dashboards for renters, providers, and administrators with relevant metrics, quick actions, and activity feeds",
        "files": [
          "src/app/renter/dashboard/page.tsx",
          "src/app/provider/dashboard/page.tsx",
          "src/app/admin/page.tsx",
          "src/lib/store/app-store.ts"
        ],
        "entry_route": "/dashboard",
        "user_interactions": [
          "View dashboard overview after login (redirects based on user role - renter/provider)",
          {
            "Renter dashboard": "View active bookings, upcoming bookings, favorites, and quick access to search"
          },
          {
            "Provider dashboard": "View incoming booking requests, active rentals, equipment usage stats, earnings summary"
          },
          {
            "Admin dashboard": "View platform-wide analytics (total users, bookings, revenue), alerts, and system status"
          },
          "Click on quick action cards to navigate to relevant sections",
          "View recent activity feed"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "/api/dashboard/[role] (dashboard data)"
          },
          {
            "method": "GET",
            "endpoint": "/api/analytics/[role] (analytics data)"
          }
        ],
        "auth_required": true
      },
      {
        "name": "In-App Messaging",
        "description": "Direct messaging between renters and providers for inquiries, booking coordination, and support",
        "files": [
          "src/app/messages/page.tsx",
          "src/app/messages/[id]/page.tsx",
          "src/lib/services/message-service.ts",
          "src/lib/store/messages-store.ts"
        ],
        "entry_route": "/messages",
        "user_interactions": [
          "View message inbox with conversation list showing last message and timestamp",
          "Click on conversation to open chat thread",
          "Type and send messages in real-time",
          "See message read receipts (ticks showing delivered/read status)",
          "Receive real-time message notifications",
          "View conversation history",
          "Send attachments (limited file types supported)"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "/api/messages/conversations (list conversations)"
          },
          {
            "method": "GET",
            "endpoint": "/api/messages/[id] (conversation messages)"
          },
          {
            "method": "POST",
            "endpoint": "/api/messages/send (send message)"
          }
        ],
        "auth_required": true
      },
      {
        "name": "Reviews and Ratings",
        "description": "Leave and view reviews and ratings for equipment, labourers, and users to build trust in the marketplace",
        "files": [
          "src/app/renter/reviews/page.tsx",
          "src/app/provider/reviews/page.tsx",
          "src/lib/services/review-service.ts"
        ],
        "entry_route": "/reviews",
        "user_interactions": [
          "View average rating and individual reviews on equipment/labourer profiles",
          "Filter reviews by rating (1-5 stars)",
          "Read review text with dates and reviewer profiles",
          "After booking completion, receive prompt to leave review",
          "Select star rating (1-5) for multiple criteria (equipment condition, provider punctuality, etc.)",
          "Write detailed review text",
          "Submit review and see it posted to profile",
          "Edit or delete own reviews"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "/api/reviews/[target_type]/[target_id]"
          },
          {
            "method": "POST",
            "endpoint": "/api/reviews/create"
          },
          {
            "method": "PUT",
            "endpoint": "/api/reviews/[review_id]"
          },
          {
            "method": "DELETE",
            "endpoint": "/api/reviews/[review_id]"
          }
        ],
        "auth_required": "true (submit reviews), false (view reviews)"
      },
      {
        "name": "Booking Management",
        "description": "Comprehensive booking system for equipment and labour rentals with status tracking, payments, and cancellation policies",
        "files": [
          "src/app/renter/bookings/page.tsx",
          "src/app/renter/bookings/[id]/page.tsx",
          "src/app/provider/bookings/page.tsx",
          "src/lib/services/booking-service.ts",
          "src/lib/hooks/use-booking-queries.ts"
        ],
        "entry_route": "/bookings",
        "user_interactions": [
          "View all bookings by status (upcoming, active, completed, cancelled)",
          "Click on booking to view full details with dates, pricing, and contact info",
          "Accept or reject incoming booking requests (provider side)",
          "Cancel bookings with reason selection",
          "Request booking modifications (date changes, quantity changes)",
          "View booking timeline with status updates and notifications",
          "Download booking receipt/invoice",
          "Mark booking as complete after rental period"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "/api/bookings (list user bookings)"
          },
          {
            "method": "GET",
            "endpoint": "/api/bookings/[id] (booking details)"
          },
          {
            "method": "PUT",
            "endpoint": "/api/bookings/[id]/status (update booking status)"
          },
          {
            "method": "POST",
            "endpoint": "/api/bookings/cancel"
          }
        ],
        "auth_required": true
      },
      {
        "name": "User Onboarding",
        "description": "Guided onboarding flow for new users to set up their profile, select their role (renter/provider), and configure preferences",
        "files": [
          "src/app/onboarding/page.tsx",
          "src/app/onboarding/provider/page.tsx",
          "src/app/onboarding/labour/page.tsx",
          "src/app/phone-setup/page.tsx",
          "src/app/profile/page.tsx"
        ],
        "entry_route": "/onboarding",
        "user_interactions": [
          "Complete onboarding after first login if profile incomplete",
          "Select user role (Renter, Equipment Provider, or Labour Provider)",
          "Skip role selection if already determined during signup",
          {
            "Equipment provider": "Add business details, verification documents, service areas"
          },
          {
            "Labour provider": "Add skills, certifications, availability, hourly rates"
          },
          "Upload profile photo",
          "Complete phone verification by entering OTP",
          "Grant app permissions for notifications (optional)",
          "Complete onboarding and be redirected to appropriate dashboard"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "/api/user/profile (update profile)"
          },
          {
            "method": "POST",
            "endpoint": "/api/user/role (set role)"
          },
          {
            "method": "POST",
            "endpoint": "/api/auth/verify-otp"
          },
          {
            "method": "POST",
            "endpoint": "/api/upload/profile (upload profile photo)"
          }
        ],
        "auth_required": true
      },
      {
        "name": "Real-Time Notifications",
        "description": "Instant notifications for booking updates, messages, price changes, and platform alerts using Supabase Realtime",
        "files": [
          "src/app/notifications/page.tsx",
          "src/app/notifications/preferences/page.tsx",
          "src/lib/services/notification-service.ts",
          "src/lib/services/notifications/notification-service.ts"
        ],
        "entry_route": "/notifications",
        "user_interactions": [
          "View notification center with categorized notifications (bookings, messages, system)",
          "See real-time notification badge on header showing unread count",
          "Click notification to navigate to related content (booking details, message thread, etc.)",
          "Mark notifications as read or mark all as read",
          "Configure notification preferences in settings (push notifications, email notifications, SMS)",
          "Set quiet hours to receive fewer notifications"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "/api/notifications (list notifications)"
          },
          {
            "method": "PUT",
            "endpoint": "/api/notifications/[id]/read (mark as read)"
          },
          {
            "method": "PUT",
            "endpoint": "/api/notifications/preferences (update preferences)"
          }
        ],
        "auth_required": true
      },
      {
        "name": "Provider Management",
        "description": "Equipment and labour providers can manage their listings, view earnings, track performance, and handle bookings",
        "files": [
          "src/app/provider/equipment/page.tsx",
          "src/app/provider/equipment/[id]/page.tsx",
          "src/app/provider/labour/create/page.tsx",
          "src/app/provider/earnings/page.tsx"
        ],
        "entry_route": "/provider",
        "user_interactions": [
          "View provider dashboard with earnings, active bookings, and utilization metrics",
          "Add new equipment to marketplace with photos, specifications, pricing, and availability",
          "Edit existing equipment listings",
          "Add or edit labour offerings with skills, hourly rates, availability",
          "View and respond to incoming booking requests",
          "Track earnings with breakdown by equipment/labour, status (paid/pending)",
          "View performance analytics (rentals per month, average rating, utilization rate)",
          "Manage business profile with contact info, service areas, description"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "/api/provider/equipment (list equipment)"
          },
          {
            "method": "POST",
            "endpoint": "/api/provider/equipment (add equipment)"
          },
          {
            "method": "PUT",
            "endpoint": "/api/provider/equipment/[id] (update equipment)"
          },
          {
            "method": "DELETE",
            "endpoint": "/api/provider/equipment/[id] (delete equipment)"
          },
          {
            "method": "GET",
            "endpoint": "/api/provider/earnings (earnings data)"
          }
        ],
        "auth_required": true
      }
    ],
    "known_limitations": [
      {
        "issue": "Phone OTP verification limited to Indian numbers (+91 country code)",
        "location": "src/app/phone-setup/page.tsx, src/lib/services/auth-service.ts",
        "impact": "International users cannot complete phone-based authentication flow"
      },
      {
        "issue": "Video upload and processing features use FFmpeg and may fail in older browser environments",
        "location": "src/lib/utils/video-processor.ts, src/app/api/upload/video/route.ts",
        "impact": "Media upload functionality may not work on all browsers/devices"
      },
      {
        "issue": "Cloudinary integration for media management requires valid API credentials configured in environment",
        "location": "src/lib/services/cloudinary-admin-service.ts, src/lib/utils/cloudinary.ts",
        "impact": "Without valid credentials, media uploads and admin media management will fail"
      },
      {
        "issue": "WebRTC for video calls mentioned in roadmap but not yet implemented",
        "location": "README.md",
        "impact": "Video calling feature is not available for equipment demonstrations"
      }
    ]
  }
}
